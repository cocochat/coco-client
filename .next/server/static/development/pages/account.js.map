{"version":3,"file":"static/development/pages/account.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/BlueWave.js","webpack:///./components/UserContext.js","webpack:///./pages/account.js","webpack:///./styles/PageWrapper.js","webpack:///./utils/auth.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"axios\"","webpack:///external \"js-cookie\"","webpack:///external \"next-cookies\"","webpack:///external \"next/router\"","webpack:///external \"react\"","webpack:///external \"styled-components\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","const BlueWave = () => (\n  <svg viewBox=\"0 0 1170 280\">\n    <defs>\n      <rect id=\"path-1\" x=\"0\" y=\"0\" width=\"1170\" height=\"280\" />\n    </defs>\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Account-01\" transform=\"translate(-270.000000, 0.000000)\">\n        <g id=\"Rectangle-Copy-25\" transform=\"translate(270.000000, 0.000000)\">\n          <g id=\"Rectangle-Copy-16\">\n            <use id=\"Mask\" fill=\"#292F36\" xlinkHref=\"#path-1\" />\n            <path\n              d=\"M-82.7853379,-628.005346 C-50.9662662,-639.054685 -32.7255662,-639.054685 -28.0632377,-628.005346 C141.176373,-226.921221 351.474563,-57.1907975 671.084893,-221.152738 C1003.90249,-391.890081 1265.94574,-305.875203 1457.21466,36.891897 L1457.21466,500.717331 L-82.7853379,500.717331 L-82.7853379,-628.005346 Z\"\n              id=\"Rectangle-Copy-17\"\n              fill=\"#2D3E51\"\n              mask=\"url(#mask-2)\"\n              transform=\"translate(687.214662, -67.787509) scale(1, -1) translate(-687.214662, 67.787509) \"\n            />\n            <path\n              d=\"M168.416521,-457.609585 C194.656924,-466.715346 209.699579,-466.715346 213.544486,-457.609585 C353.112217,-127.076157 526.539946,12.7986854 790.114698,-122.32235 C1064.58116,-263.026995 1280.68176,-192.142134 1438.41652,90.3322342 L1438.41652,472.570776 L168.416521,472.570776 L168.416521,-457.609585 Z\"\n              fill=\"#3B4D61\"\n              mask=\"url(#mask-2)\"\n              transform=\"translate(803.416521, 4.065935) scale(-1, -1) rotate(5.000000) translate(-803.416521, -4.065935) \"\n            />\n          </g>\n        </g>\n      </g>\n    </g>\n  </svg>\n);\n\nexport default BlueWave;","import { createContext } from 'react';\n\nconst UserContext = createContext();\n\nexport default UserContext;\n","import React, { Component } from 'react';\nimport nextCookie from 'next-cookies';\nimport axios from \"axios\";\nimport {withAuthSync} from '../utils/auth.js';\nimport {useContext} from 'react';\nimport UserContext from \"../components/UserContext\";\nimport {PageWrapper, LoggedInPageWrapper} from '../styles/PageWrapper';\nimport styled from 'styled-components';\nimport BlueWave from '../components/BlueWave';\nconst AccountHeader = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 80px 60px;\n  position: relative;\n  /* background-image: url(\"../static/images/account-page-wave-svg.svg\"); */\n  /* background-position: center; */\n  z-index: 1;\n  .bg {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n  }\n`;\nconst AccountInfo = styled.div`\n  background: ${props => props.theme.colors.white};\n  padding: 60px;\n`;\nconst Content = styled.div`\n  z-index: 1;\n`;\nconst Label = styled.label`\n  font-size: 11px;\n  line-height: 18px;\n  letter-spacing: 1px;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: ${props => props.theme.colors.orange};\n`;\nconst ArtistName = styled.h1`\n  font-size: 64px;\n  font-weight: bold;\n  letter-spacing: 1px;\n  line-height: 44px;\n  color: ${props => props.theme.colors.orange};\n`;\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n`;\nconst Data = styled.h3`\n  font-size: 32px;\n  line-height: 44px;\n  letter-spacing: 0.5px;\n  font-weight: bold;\n`;\nconst Databox = styled.div`\n  padding: 30px 25px 30px 25px;\n  border-radius: 6px;\n  flex: 1 0 50%;\n  max-width: calc(50% - 60px);\n  margin: 0px 30px 30px 0;\n  &.orange {\n    background: ${props => props.theme.colors.orange};\n\n    color: ${props => props.theme.colors.black};\n    label {\n      color: ${props => props.theme.colors.black};\n    }\n  }\n  &.black {\n    background: ${props => props.theme.colors.black};\n    color: ${props => props.theme.colors.orange};\n    label {\n      color: ${props => props.theme.colors.orange};\n    }\n  }\n  &.blue {\n    background: ${props => props.theme.colors.blue};\n    color: ${props => props.theme.colors.seafoam};\n    label {\n      color: ${props => props.theme.colors.seafoam};\n    }\n  }\n  &.lightBlue {\n    background: ${props => props.theme.colors.seafoam};\n    color: ${props => props.theme.colors.black};\n    label {\n      color: ${props => props.theme.colors.black};\n    }\n  }\n`;\n// const EditProfile = styled.a``;\n\nconst Account = ({token}) => {\n  const { loggedIn } = useContext(UserContext);\n  if (loggedIn) {\n    return (\n      <LoggedInPageWrapper>\n        <AccountHeader>\n          <div className=\"bg\">\n            <BlueWave />\n          </div>\n          <Content>\n            <Label>Artist Name</Label>\n            <ArtistName>Clairo</ArtistName>\n          </Content>\n          {/* <EditProfile>Edit Profile</EditProfile> */}\n        </AccountHeader>\n        <AccountInfo>\n          <Row>\n            <div className=\"artist-number\" />\n            <Databox className=\"data-box orange\">\n              <Label>Fans</Label>\n              <Data>17,890</Data>\n            </Databox>\n            <Databox className=\"data-box black\">\n              <Label>Fans</Label>\n              <Data>17,890</Data>\n            </Databox>\n            <Databox className=\"data-box blue\">\n              <Label>Fans</Label>\n              <Data>17,890</Data>\n            </Databox>\n            <Databox className=\"data-box lightBlue\">\n              <Label>Fans</Label>\n              <Data>17,890</Data>\n            </Databox>\n          </Row>\n        </AccountInfo>\n      </LoggedInPageWrapper>\n    );\n  } else {\n    return (\n      <PageWrapper>\n        <AccountHeader>\n          \n          <Label>Artist Name</Label>\n          <ArtistName>Clairo</ArtistName>\n        </AccountHeader>\n        <h2>{loggedIn ? 'loggedIn' : ''}</h2>\n      </PageWrapper>\n    )\n  }\n}\nexport default withAuthSync(Account);\n\n\nAccount.getInitialProps = async ctx => {\n  const { token } = nextCookie(ctx);\n    // console.log({ token });\n    \n  return { token };\n}","import styled from 'styled-components';\n\nexport const LoggedInPageWrapper = styled.div`\n  display: block;\n  padding-left: 270px;\n  width: 100%;\n  height: 100%;\n`;\nexport const PageWrapper = styled.div`\n  display: block;\n`;\n","import Router from \"next/router\";\nimport nextCookie from \"next-cookies\";\nimport cookie from 'js-cookie';\nimport {Component} from 'react';\n\nexport const login = async ({ token }) => {\n  cookie.set(\"token\", token, { expires: 1 });\n  Router.push(\"/account\");\n};\n\nexport const logout = () => {\n  cookie.remove(\"token\");\n  // to support logging out from all windows\n  window.localStorage.setItem(\"logout\", Date.now());\n  Router.push(\"/signup\");\n};\n\n// Gets the display name of a JSX component for dev tools\nconst getDisplayName = Component =>\n  Component.displayName || Component.name || 'Component'\n\nexport const withAuthSync = WrappedComponent =>\n  class extends Component {\n    static displayName = `withAuthSync(${getDisplayName(WrappedComponent)})`;\n\n    static async getInitialProps(ctx) {\n      const token = auth(ctx);\n\n      const componentProps =\n        WrappedComponent.getInitialProps &&\n        (await WrappedComponent.getInitialProps(ctx));\n\n      return { ...componentProps, token };\n    }\n\n    constructor(props) {\n      super(props);\n\n      this.syncLogout = this.syncLogout.bind(this);\n    }\n\n    componentDidMount() {\n      window.addEventListener(\"storage\", this.syncLogout);\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener(\"storage\", this.syncLogout);\n      window.localStorage.removeItem(\"logout\");\n    }\n\n    syncLogout(event) {\n      if (event.key === \"logout\") {\n        console.log(\"logged out from storage!\");\n        Router.push(\"/login\");\n      }\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\nexport const auth = ctx => {\n  const { token } = nextCookie(ctx);\n  /* this happens server only. ctx.req is available means that it is being rendered on the server  \n    if we are on the server and the token is not available it means the user is not logged in\n  */\n  if (ctx.req && !token) {\n    ctx.res.writeHead(302, { Location: \"/login\" });\n    ctx.res.end();\n    return;\n  }\n\n  if (!token) {\n    Router.push(\"/login\");\n  }\n\n  return token;\n};\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"axios\");","module.exports = require(\"js-cookie\");","module.exports = require(\"next-cookies\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"styled-components\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACxFA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AAJA;AAjBA;AACA;AA6BA;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAEA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAkBA;AAAA;AAAA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAMA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAOA;AAAA;AAEA;AAAA;AAEA;AAAA;AAIA;AAAA;AACA;AAAA;AAEA;AAAA;AAIA;AAAA;AACA;AAAA;AAEA;AAAA;AAIA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAKA;AAAA;AACA;AADA;AAAA;AACA;AACA;AACA;AAGA;AAAA;AAWA;AAAA;AACA;AAAA;AAIA;AAAA;AAIA;AAAA;AAIA;AAAA;AAQA;AACA;AAUA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACxJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAOA;AAPA;AAWA;AAXA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAaA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AAHA;AAIA;AACA;AAnBA;AAAA;AAAA;AAqBA;AACA;AAtBA;AAAA;AAAA;AAyBA;AACA;AACA;AA3BA;AAAA;AAAA;AA8BA;AACA;AACA;AACA;AACA;AAlCA;AAAA;AAAA;AAqCA;AACA;AAtCA;AACA;AADA;AAAA;AAAA;AAyCA;AAAA;AAAA;AAEA;;;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC9EA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}